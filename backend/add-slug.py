from bson import ObjectId
from db import LumaDB

db = LumaDB()
palace_db = db.palace_db

url_slug = {
    "658d3be4e538f9e300d3b52c": "geonchunmun-gate",
    "658d3be4e538f9e300d3b52f": "sinmumun-gate",
    "658d3be4e538f9e300d3b534": "yeongchumun-gate",
    "658d3be4e538f9e300d3b537": "dongsipjagak-pav",
    "658d3be8e538f9e300d3b542": "gibyeolcheong",
    "658d3bede538f9e300d3b55f": "yeongjegyo-bridge",
    "658d3bfae538f9e300d3b6d0": "heungnyemun-gate",
    "658d3c0be538f9e300d3b827": "geunjeongjeon-innerview",
    "658d3c0fe538f9e300d3b918": "gwanghwamun-gate",
    "658d3c17e538f9e300d3b9d6": "geunjeongmun-gate",
    "658d3c18e538f9e300d3b9ff": "geunjeongjeon-compound",
    "658d3c1fe538f9e300d3ba2a": "gangnyeongjeon-hall",
    "658d3c25e538f9e300d3ba4c": "amisan-mount",
    "658d3c26e538f9e300d3ba53": "sajeongjeon-hall",
    "658d3c29e538f9e300d3ba5e": "hanwonjeon-hall",
    "658d3c2ee538f9e300d3ba7a": "ten-symbols-chimney",
    "658d3c32e538f9e300d3ba8e": "jagyeongjeon-flowerwall",
    "658d3c36e538f9e300d3baa0": "east-palace-compound",
    "658d3c43e538f9e300d3bcc5": "jagyeongjeon-hall",
    "658d3c44e538f9e300d3bd04": "gyotaejeon-hall",
    "658d3c45e538f9e300d3bd40": "heumgyeonggak-hall",
    "658d3c55e538f9e300d3bf90": "hyangwonjeong-pav",
    "658d3c5ee538f9e300d3c086": "taewonjeon-shrine",
    "658d3c64e538f9e300d3c107": "gyeonghoeru-pav",
    "658d3c68e538f9e300d3c18e": "king-gojong-memorial",
    "658d3c6ce538f9e300d3c1ee": "sojubang-house",
    "658d3c6ee538f9e300d3c249": "sujeongjeon-hall",
    "658d3c70e538f9e300d3c26e": "gwollaegaksa-site",
    "658d3c70e538f9e300d3c28a": "geoncheonggung",
    "658d3c76e538f9e300d3c2d1": "jibokjae-house",
    "658d3f9787df6f7f25a015b1": "geumcheongyo-bridge",
    "658d3f9a87df6f7f25a015ba": "jinseonmun-gate",
    "658d3f9a87df6f7f25a015be": "west-gwollaegaksa",
    "658d3f9a87df6f7f25a015e2": "old-seonwonjeon",
    "658d3f9d87df6f7f25a0160b": "injeongmun-gate",
    "658d3f9f87df6f7f25a01635": "injeongjeon-hall",
    "658d3fa087df6f7f25a01639": "seonjeongjeon-hall",
    "658d3fa487df6f7f25a016b4": "donhwamun-gate",
    "658d3fac87df6f7f25a0185b": "seongjeonggak-area",
    "658d3fb087df6f7f25a01966": "east-gwollaegaksa",
    "658d3fb787df6f7f25a01acf": "huijeongdang-hall",
    "658d3fba87df6f7f25a01b23": "daejodajeon-area",
    "658d3fbb87df6f7f25a01bce": "gyeonghungak-area",
    "658d3fbd87df6f7f25a01c16": "sangnyangjeong-pav",
    "658d3fc287df6f7f25a01d1d": "aeryeonjeong-pav",
    "658d3fc687df6f7f25a01e51": "pyeomusa-pav",
    "658d3fcb87df6f7f25a01f5f": "nakseonjae-area",
    "658d3fcb87df6f7f25a01f63": "jondeokjeong-pav",
    "658d3fce87df6f7f25a02015": "seunghwaru-area",
    "658d3fcf87df6f7f25a0201b": "soyojeong-pav",
    "658d3fcf87df6f7f25a02055": "chwihanjeong-pav",
    "658d3fd287df6f7f25a020c4": "yeonghwadang-pav",
    "658d3fd287df6f7f25a020c8": "cheongsimjeong-pav",
    "658d3fef87df6f7f25a022d7": "buyongjeong-area",
    "658d3ff487df6f7f25a022dc": "samdo-three-ways",
    "658d3ff487df6f7f25a022de": "myeongjeongmun-gate",
    "658d3ff887df6f7f25a02300": "munjeongmun-gate",
    "658d3ffd87df6f7f25a02381": "okcheongyo-bridge",
    "658d3ffe87df6f7f25a02393": "sungmundang-hall",
    "658d400387df6f7f25a023fe": "binyangmun-gate",
    "658d400987df6f7f25a024b2": "honghwamun-gate",
    "658d400c87df6f7f25a024d9": "munjeongjeon-hall",
    "658d400f87df6f7f25a024f7": "hwangyeongjeon-hall",
    "658d401387df6f7f25a0250f": "yanghwadang-hall",
    "658d401887df6f7f25a02522": "yeongchunheon-house",
    "658d401c87df6f7f25a0260b": "wind-streamer-ped",
    "658d402087df6f7f25a02993": "sundial-hemisph",
    "658d402887df6f7f25a02a26": "jipbokhen-house",
    "658d402e87df6f7f25a02a7c": "haminjeong-pav",
    "658d403287df6f7f25a02acf": "octa-stone-pagoda",
    "658d403487df6f7f25a02b08": "king-seongjong-placenta",
    "658d403887df6f7f25a02b49": "gwandeokjeong-pav",
    "658d403a87df6f7f25a02b77": "myeongjeongjeon-hall",
    "658d403c87df6f7f25a02ba2": "naenongpo-field",
    "658d404187df6f7f25a03002": "grand-greenhouse",
    "658d404787df6f7f25a0309f": "gwancheondae-obs",
    "658d404987df6f7f25a030d4": "seoninmun-gate",
    "658d405287df6f7f25a0319a": "gyeongchunjeon-hall",
    "658d405487df6f7f25a031d4": "jagyeongjeon-site",
    "658d405887df6f7f25a031f9": "wolgeunmun-gate",
    "658d406087df6f7f25a03209": "gwollaegaksa-site2",
    "658d406087df6f7f25a0320d": "geumcheongyo-bridge2",
    "658d406487df6f7f25a03222": "gwangmyeongmun-gate",
    "658d406587df6f7f25a0322a": "junghwamun-gate",
    "658d406987df6f7f25a03237": "junmyeongdang-hall",
    "658d407987df6f7f25a0325a": "deokhongjeon-hall",
    "658d407f87df6f7f25a0329f": "seogeodang-hall",
    "658d408487df6f7f25a032e0": "hamnyeongjeon-hall",
    "658d408587df6f7f25a032e6": "yuhyeonmun-gate",
    "658d40a087df6f7f25a03649": "jeonggwanhyeon-house",
    "658d40a587df6f7f25a036f2": "deoksugung-ungyo",
    "658d40a687df6f7f25a03716": "jungmyeongjeon-hall",
    "658d40a787df6f7f25a0378f": "daehanmun-gate",
    "658d40b287df6f7f25a03816": "dondeokjeon-site",
    "658d40b287df6f7f25a0382f": "seokjojeon-hall",
    "658d40cd87df6f7f25a0390f": "junghwajeon-hall",
    "658d40d387df6f7f25a03912": "eojeong-royalwell",
    "658d40d387df6f7f25a03915": "hamabi-stele",
    "658d40da87df6f7f25a03995": "oedaemun-outergate",
    "658d40dd87df6f7f25a039df": "king-gongmin-shrine",
    "658d40de87df6f7f25a039fb": "jipsacheong-hall",
    "658d40e287df6f7f25a03a41": "hyangdaecheong-hall",
    "658d40e387df6f7f25a03a60": "mangmyoru-pav",
    "658d40e587df6f7f25a03a82": "yeonji-pond",
    "658d40e687df6f7f25a03a86": "sejajesil-chamber",
    "658d40e687df6f7f25a03ab2": "samdo-three-paths",
    "658d40e887df6f7f25a03ab5": "eomokyokcheong-hall",
    "658d40e987df6f7f25a03ab9": "panwi-royalstands",
    "658d40e987df6f7f25a03ace": "eojaesil-chamber",
    "658d40e987df6f7f25a03ad2": "chanmakdan-platform",
    "658d40eb87df6f7f25a03ad6": "subokbang-building",
    "658d40ec87df6f7f25a03ada": "seongsaengwi-platform",
    "658d40ed87df6f7f25a03ae0": "jejeong-waterwell",
    "658d40ed87df6f7f25a03ae4": "jeongjeon-east-gate",
    "658d40f087df6f7f25a03b18": "jeongjeon-south-gate",
    "658d40f287df6f7f25a03b4c": "gongsindang-shrine",
    "658d40f387df6f7f25a03b50": "chilsadang-shrine",
    "658d40f787df6f7f25a03bc7": "jeongjeon-west-gate",
    "658d40fb87df6f7f25a03c4a": "akgongcheong-yeongnyeong",
    "658d40ff87df6f7f25a03ce6": "jeonjacheong-hall",
    "658d410087df6f7f25a03cec": "akgongcheong-jeongjeon",
    "658d410087df6f7f25a03d25": "yodae-platform",
    "658d410c87df6f7f25a03dd6": "yeongnyeongjeon-hall",
    "658d41ee87df6f7f25a04b4d": "jeongjeon-main-hall",
    "658d42f617a95b9079513057": "tongmyeongjeon-hall",
    "658d430a17a95b9079513067": "jeukjodang-hall",
    "658d451cb05bbd2316159670": "geunjeongjeon-hall"
}

# add url_slug to all palaces using object id
for slug in url_slug:
    palace_db.update_one({"_id": ObjectId(slug)}, {"$set": {"url_slug": url_slug[slug]}})

# create an index for slug for quick lookup with url_slug and make it unique
palace_db.create_index("url_slug", unique=True)

# using url_slug index, search for a palace with url_slug
print(palace_db.find_one({"url_slug": "geunjeongjeon-hall"}))